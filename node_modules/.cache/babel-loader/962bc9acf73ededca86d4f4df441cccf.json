{"remainingRequest":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/babel-loader/lib/index.js!/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/eslint-loader/index.js??ref--14-0!/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/coaches/actions.js","dependencies":[{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/coaches/actions.js","mtime":1716385375422},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/babel.config.js","mtime":1598433744000},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/cache-loader/dist/cjs.js","mtime":1715786782995},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/babel-loader/lib/index.js","mtime":1715786783256},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/eslint-loader/index.js","mtime":1715786783035}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGFzeW5jIHJlZ2lzdGVyQ29hY2goY29udGV4LCBkYXRhKSB7CiAgICBjb25zdCB1c2VySWQgPSBjb250ZXgucm9vdEdldHRlcnMudXNlcklkOwogICAgY29uc3QgY29hY2hEYXRhID0gewogICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3ROYW1lLAogICAgICBsYXN0TmFtZTogZGF0YS5sYXN0TmFtZSwKICAgICAgYXJlYXM6IGRhdGEuYXJlYXMsCiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLAogICAgICBob3VybHlSYXRlOiBkYXRhLnJhdGUKICAgIH07CiAgICBjb25zdCB0b2tlbiA9IGNvbnRleC5yb290R2V0dGVycy50b2tlbjsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdnVlLWh0dHAtZGVtby1jZTU3Ny1kZWZhdWx0LXJ0ZGIuZXVyb3BlLXdlc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwL2NvYWNoZXMvJHt1c2VySWR9Lmpzb24/YXV0aD1gICsgdG9rZW4sIHsKICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29hY2hEYXRhKQogICAgfSk7CiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlZ2lzdGVyIGNvYWNoJyk7CiAgICB9CiAgICBjb250ZXguY29tbWl0KCdyZWdpc3RlckNvYWNoJywgewogICAgICAuLi5jb2FjaERhdGEsCiAgICAgIGlkOiB1c2VySWQKICAgIH0pOwogIH0sCiAgYXN5bmMgbG9hZENvYWNoZXMoY29udGV4LCBwYXlsb2FkKSB7CiAgICBpZiAoIXBheWxvYWQuZm9yY2VSZWZyZXNoICYmICFjb250ZXguZ2V0dGVycy5zaG91bGRVcGRhdGUpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly92dWUtaHR0cC1kZW1vLWNlNTc3LWRlZmF1bHQtcnRkYi5ldXJvcGUtd2VzdDEuZmlyZWJhc2VkYXRhYmFzZS5hcHAvY29hY2hlcy5qc29uYCk7CiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggY29hY2hlcycpOwogICAgICB0aHJvdyBlcnJvcjsKICAgIH0KICAgIGNvbnN0IGNvYWNoZXMgPSBbXTsKICAgIGZvciAoY29uc3Qga2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICBjb25zdCBjb2FjaCA9IHsKICAgICAgICBpZDoga2V5LAogICAgICAgIGZpcnN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0uZmlyc3ROYW1lLAogICAgICAgIGxhc3ROYW1lOiByZXNwb25zZURhdGFba2V5XS5sYXN0TmFtZSwKICAgICAgICBhcmVhczogcmVzcG9uc2VEYXRhW2tleV0uYXJlYXMsCiAgICAgICAgZGVzY3JpcHRpb246IHJlc3BvbnNlRGF0YVtrZXldLmRlc2NyaXB0aW9uLAogICAgICAgIGhvdXJseVJhdGU6IHJlc3BvbnNlRGF0YVtrZXldLmhvdXJseVJhdGUKICAgICAgfTsKICAgICAgY29hY2hlcy5wdXNoKGNvYWNoKTsKICAgIH0KICAgIGNvbnRleC5jb21taXQoJ3NldENvYWNoZXMnLCBjb2FjaGVzKTsKICAgIGNvbnRleC5jb21taXQoJ3NldEZldGNoVGltZXN0YW1wJyk7CiAgfQp9Ow=="},{"version":3,"names":["registerCoach","contex","data","userId","rootGetters","coachData","firstName","lastName","areas","description","hourlyRate","rate","token","response","fetch","method","body","JSON","stringify","responseData","json","ok","Error","message","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","error","coaches","key","coach","push"],"sources":["/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/coaches/actions.js"],"sourcesContent":["export default {\n  async registerCoach(contex, data) {\n    const userId = contex.rootGetters.userId;\n    const coachData = {\n      firstName: data.firstName,\n      lastName: data.lastName,\n      areas: data.areas,\n      description: data.description,\n      hourlyRate: data.rate,\n    };\n\n    const token = contex.rootGetters.token ;\n\n    const response = await fetch(\n      `https://vue-http-demo-ce577-default-rtdb.europe-west1.firebasedatabase.app/coaches/${userId}.json?auth=`+ token,\n      {\n        method: 'PUT',\n        body: JSON.stringify(coachData),\n      }\n    );\n\n    const responseData = await response.json();\n    if (!response.ok) {\n      throw new Error(responseData.message || 'Failed to register coach');\n    }\n\n    contex.commit('registerCoach', {\n      ...coachData,\n      id: userId,\n    });\n  },\n  async loadCoaches(contex,payload) {\n        if(!payload.forceRefresh && !contex.getters.shouldUpdate){\n          return;\n        }\n\n    const response = await fetch(\n      `https://vue-http-demo-ce577-default-rtdb.europe-west1.firebasedatabase.app/coaches.json`\n    );\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n     const error =  new Error(responseData.message || 'Failed to fetch coaches');\n     throw error;\n    }\n    const coaches = [];\n\n    for (const key in responseData) {\n      const coach = {\n        id: key,\n        firstName: responseData[key].firstName,\n        lastName: responseData[key].lastName,\n        areas: responseData[key].areas,\n        description: responseData[key].description,\n        hourlyRate: responseData[key].hourlyRate,\n      };\n      coaches.push(coach);\n\n    }\n      contex.commit('setCoaches',coaches);\n      contex.commit('setFetchTimestamp')\n  },\n};\n"],"mappings":";;AAAA,eAAe;EACb,MAAMA,aAAaA,CAACC,MAAM,EAAEC,IAAI,EAAE;IAChC,MAAMC,MAAM,GAAGF,MAAM,CAACG,WAAW,CAACD,MAAM;IACxC,MAAME,SAAS,GAAG;MAChBC,SAAS,EAAEJ,IAAI,CAACI,SAAS;MACzBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;MACvBC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,WAAW,EAAEP,IAAI,CAACO,WAAW;MAC7BC,UAAU,EAAER,IAAI,CAACS;IACnB,CAAC;IAED,MAAMC,KAAK,GAAGX,MAAM,CAACG,WAAW,CAACQ,KAAK;IAEtC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,sFAAqFX,MAAO,aAAY,GAAES,KAAK,EAChH;MACEG,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,SAAS;IAChC,CACF,CAAC;IAED,MAAMc,YAAY,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IAC1C,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAACH,YAAY,CAACI,OAAO,IAAI,0BAA0B,CAAC;IACrE;IAEAtB,MAAM,CAACuB,MAAM,CAAC,eAAe,EAAE;MAC7B,GAAGnB,SAAS;MACZoB,EAAE,EAAEtB;IACN,CAAC,CAAC;EACJ,CAAC;EACD,MAAMuB,WAAWA,CAACzB,MAAM,EAAC0B,OAAO,EAAE;IAC5B,IAAG,CAACA,OAAO,CAACC,YAAY,IAAI,CAAC3B,MAAM,CAAC4B,OAAO,CAACC,YAAY,EAAC;MACvD;IACF;IAEJ,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CACzB,yFACH,CAAC;IAED,MAAMK,YAAY,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IAE1C,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;MACjB,MAAMU,KAAK,GAAI,IAAIT,KAAK,CAACH,YAAY,CAACI,OAAO,IAAI,yBAAyB,CAAC;MAC3E,MAAMQ,KAAK;IACZ;IACA,MAAMC,OAAO,GAAG,EAAE;IAElB,KAAK,MAAMC,GAAG,IAAId,YAAY,EAAE;MAC9B,MAAMe,KAAK,GAAG;QACZT,EAAE,EAAEQ,GAAG;QACP3B,SAAS,EAAEa,YAAY,CAACc,GAAG,CAAC,CAAC3B,SAAS;QACtCC,QAAQ,EAAEY,YAAY,CAACc,GAAG,CAAC,CAAC1B,QAAQ;QACpCC,KAAK,EAAEW,YAAY,CAACc,GAAG,CAAC,CAACzB,KAAK;QAC9BC,WAAW,EAAEU,YAAY,CAACc,GAAG,CAAC,CAACxB,WAAW;QAC1CC,UAAU,EAAES,YAAY,CAACc,GAAG,CAAC,CAACvB;MAChC,CAAC;MACDsB,OAAO,CAACG,IAAI,CAACD,KAAK,CAAC;IAErB;IACEjC,MAAM,CAACuB,MAAM,CAAC,YAAY,EAACQ,OAAO,CAAC;IACnC/B,MAAM,CAACuB,MAAM,CAAC,mBAAmB,CAAC;EACtC;AACF,CAAC","ignoreList":[]}]}