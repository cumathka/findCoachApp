{"remainingRequest":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/babel-loader/lib/index.js!/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/eslint-loader/index.js??ref--14-0!/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/requests/actions.js","dependencies":[{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/requests/actions.js","mtime":1716385340182},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/babel.config.js","mtime":1598433744000},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/cache-loader/dist/cjs.js","mtime":1715786782995},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/babel-loader/lib/index.js","mtime":1715786783256},{"path":"/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/node_modules/eslint-loader/index.js","mtime":1715786783035}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGFzeW5jIGNvbnRhY3RDb2FjaChjb250ZXgsIHBheWxvYWQpIHsKICAgIGNvbnN0IG5ld1JlcXVlc3RzID0gewogICAgICB1c2VyRW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgIG1lc3NhZ2U6IHBheWxvYWQubWVzc2FnZQogICAgfTsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdnVlLWh0dHAtZGVtby1jZTU3Ny1kZWZhdWx0LXJ0ZGIuZXVyb3BlLXdlc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwL3JlcXVlc3RzLyR7cGF5bG9hZC5jb2FjaElkfS5qc29uYCwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3UmVxdWVzdHMpCiAgICB9KTsKICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kIHJlcXVlc3QnKTsKICAgICAgdGhyb3cgZXJyb3I7CiAgICB9CiAgICBuZXdSZXF1ZXN0cy5pZCA9IHJlc3BvbnNlRGF0YS5uYW1lOwogICAgbmV3UmVxdWVzdHMuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgIGNvbnRleC5jb21taXQoJ2FkZFJlcXVlc3QnLCBuZXdSZXF1ZXN0cyk7CiAgfSwKICBhc3luYyBmZXRjaFJlcXVlc3RzKGNvbnRleCkgewogICAgY29uc3QgY29hY2hJZCA9IGNvbnRleC5yb290R2V0dGVycy51c2VySWQ7CiAgICBjb25zdCB0b2tlbiA9IGNvbnRleC5yb290R2V0dGVycy50b2tlbjsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdnVlLWh0dHAtZGVtby1jZTU3Ny1kZWZhdWx0LXJ0ZGIuZXVyb3BlLXdlc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwL3JlcXVlc3RzLyR7Y29hY2hJZH0uanNvbj9hdXRoPWAgKyB0b2tlbik7CiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcmVxdWVzdHMnKTsKICAgICAgdGhyb3cgZXJyb3I7CiAgICB9CiAgICBjb25zdCByZXF1ZXN0cyA9IFtdOwogICAgZm9yIChjb25zdCBrZXkgaW4gcmVzcG9uc2VEYXRhKSB7CiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7CiAgICAgICAgaWQ6IGtleSwKICAgICAgICBjb2FjaElkOiBjb2FjaElkLAogICAgICAgIHVzZXJFbWFpbDogcmVzcG9uc2VEYXRhW2tleV0udXNlckVtYWlsLAogICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlRGF0YVtrZXldLm1lc3NhZ2UKICAgICAgfTsKICAgICAgcmVxdWVzdHMucHVzaChyZXF1ZXN0KTsKICAgIH0KICAgIGNvbnRleC5jb21taXQoJ3NldFJlcXVlc3RzJywgcmVxdWVzdHMpOwogIH0KfTs="},{"version":3,"names":["contactCoach","contex","payload","newRequests","userEmail","email","message","response","fetch","coachId","method","body","JSON","stringify","responseData","json","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","token","requests","key","request","push"],"sources":["/Users/cumakaya/Desktop/Vue.js_Advance/main-prj-01-starting-setup/src/store/modules/requests/actions.js"],"sourcesContent":["export default {\n  async contactCoach(contex, payload) {\n    const newRequests = {\n      userEmail: payload.email,\n      message: payload.message,\n    };\n    const response = await fetch(\n      `https://vue-http-demo-ce577-default-rtdb.europe-west1.firebasedatabase.app/requests/${payload.coachId}.json`,\n      {\n        method: 'POST',\n        body: JSON.stringify(newRequests),\n      }\n    );\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to send request');\n      throw error;\n    }\n\n    newRequests.id = responseData.name;\n    newRequests.coachId = payload.coachId;\n\n    contex.commit('addRequest', newRequests);\n  },\n  async fetchRequests(contex) {\n    const coachId = contex.rootGetters.userId;\n    const token = contex.rootGetters.token ;\n    const response = await fetch(\n      `https://vue-http-demo-ce577-default-rtdb.europe-west1.firebasedatabase.app/requests/${coachId}.json?auth=` + token\n    );\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(\n        responseData.message || 'Failed to fetch requests'\n      );\n      throw error;\n    }\n    const requests = [];\n    for (const key in responseData) {\n      const request = {\n        id: key,\n        coachId: coachId,\n        userEmail: responseData[key].userEmail,\n        message: responseData[key].message,\n      };\n      requests.push(request);\n    }\n    contex.commit('setRequests', requests);\n  },\n};\n"],"mappings":";;AAAA,eAAe;EACb,MAAMA,YAAYA,CAACC,MAAM,EAAEC,OAAO,EAAE;IAClC,MAAMC,WAAW,GAAG;MAClBC,SAAS,EAAEF,OAAO,CAACG,KAAK;MACxBC,OAAO,EAAEJ,OAAO,CAACI;IACnB,CAAC;IACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,uFAAsFN,OAAO,CAACO,OAAQ,OAAM,EAC7G;MACEC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,WAAW;IAClC,CACF,CAAC;IAED,MAAMW,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAE1C,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACJ,YAAY,CAACR,OAAO,IAAI,wBAAwB,CAAC;MACzE,MAAMW,KAAK;IACb;IAEAd,WAAW,CAACgB,EAAE,GAAGL,YAAY,CAACM,IAAI;IAClCjB,WAAW,CAACM,OAAO,GAAGP,OAAO,CAACO,OAAO;IAErCR,MAAM,CAACoB,MAAM,CAAC,YAAY,EAAElB,WAAW,CAAC;EAC1C,CAAC;EACD,MAAMmB,aAAaA,CAACrB,MAAM,EAAE;IAC1B,MAAMQ,OAAO,GAAGR,MAAM,CAACsB,WAAW,CAACC,MAAM;IACzC,MAAMC,KAAK,GAAGxB,MAAM,CAACsB,WAAW,CAACE,KAAK;IACtC,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CACzB,uFAAsFC,OAAQ,aAAY,GAAGgB,KAChH,CAAC;IACD,MAAMX,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAE1C,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CACrBJ,YAAY,CAACR,OAAO,IAAI,0BAC1B,CAAC;MACD,MAAMW,KAAK;IACb;IACA,MAAMS,QAAQ,GAAG,EAAE;IACnB,KAAK,MAAMC,GAAG,IAAIb,YAAY,EAAE;MAC9B,MAAMc,OAAO,GAAG;QACdT,EAAE,EAAEQ,GAAG;QACPlB,OAAO,EAAEA,OAAO;QAChBL,SAAS,EAAEU,YAAY,CAACa,GAAG,CAAC,CAACvB,SAAS;QACtCE,OAAO,EAAEQ,YAAY,CAACa,GAAG,CAAC,CAACrB;MAC7B,CAAC;MACDoB,QAAQ,CAACG,IAAI,CAACD,OAAO,CAAC;IACxB;IACA3B,MAAM,CAACoB,MAAM,CAAC,aAAa,EAAEK,QAAQ,CAAC;EACxC;AACF,CAAC","ignoreList":[]}]}